<!DOCTYPE html>
<html lang="en">

<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>Document</title>
  <link rel="stylesheet" href="styles.css">
</head>

<body>
  <div id="root">
    <div id="container-one">
      <button id="text-name">Hint</button>
      <input type="text" id="search-bar" name="search-bar" placeholder="입력해주세요." />
    </div>
    <div id="container-two">
      <!-- 이미지가 출력될 태그 -->
      <div id="result">JPG</div>
    </div>
  </div>
  <script>
    const root = document.getElementById("root");
    const searchBar = document.getElementById("search-bar");
    const h1 = document.getElementById("result");
    // 테스트용 배열
    //const items = ["사과", "바나나", "초코", "우유"];
    const textName = document.getElementById("text-name");
    const images = {
      "아비니시안": "cat-image/아비시니안.jpg",
      "에게안": "cat-image/에게안.jpg",
      "아메리칸 밥테일": "cat-image/아메리칸밥테일.jpg",
      "아메리칸 컬": "cat-image/아메리칸컬.jpg",
      "아메리칸 링테일": "cat-image/아메리칸링테일.jpg",
      "아나톨리": "cat-image/아나톨리.jpg",
      "키프로스": "cat-image/키프로스.jpg",
      "키프로스 아프로디테": "cat-image/키프로스 아프로디테.jpg",
      "아라비안 마우": "cat-image/아라비안 마우.jpg",
      "아시안": "cat-image/아시안.jpg",
      "티파니": "cat-image/티파니.jpg",
      "발리니즈": "cat-image/발리니즈.jpg",
      "밤비노": "cat-image/밤비노.jpg",
      "뱅갈": "cat-image/뱅갈.jpg",
      "버먼": "cat-image/버먼.jpg",
      "봄베이": "cat-image/봄베이.jpg",
      "브라질리안 쇼트헤어": "cat-image/브라질리안 쇼트헤어.jpg",
      "브리티시 롱헤어": "cat-image/브리티시 롱헤어.jpg",
      "브리티시 쇼트헤어": "cat-image/브리티시 쇼트헤어.jpg",
      "버미즈": "cat-image/버미즈.jpg",
      "버밀라": "cat-image/버밀라.jpg",
      "캘리포니아 스팽글드": "cat-image/캘리포니아 스팽글드.jpg",
      "세일론": "cat-image/세일론.jpg",
      "샹틸리 티파니": "cat-image/샹틸리 티파니.jpg",
      "샤르트뢰": "cat-image/샤르트뢰.jpg",
      "쵸시": "cat-image/쵸시.jpg",
      "치토": "cat-image/치토.jpg",
      "컬러포인트 쇼트헤어": "cat-image/컬러포인트 쇼트헤어.jpg",
      "데본 렉스": "cat-image/데본 렉스.jpg",
      "돈스코이": "cat-image/돈스코이.jpg",
      "드웰프": "cat-image/드웰프.jpg",
      "이집션 마우": "cat-image/이집션 마우.jpg",
      "유러피안 쇼트헤어": "cat-image/유러피안 쇼트헤어.jpg",
      "이그저틱 롱헤어": "cat-image/이그저틱롱헤어.jpg",
      "폴덱스": "cat-image/폴덱스.jpg",
      "포린 화이트": "cat-image/포린 화이트.jpg",
      "제네타": "cat-image/제네타.jpg",
      "저먼 렉스": "cat-image/저먼 렉스.jpg",
      "하바나 브라운": "cat-image/하바나 브라운.jpg",
      "하일랜더": "cat-image/하일랜더.jpg",
      "히말라얀": "cat-image/히말라얀.jpg",
      "재그": "cat-image/재그.jpg",
      "재패니즈 밥테일": "cat-image/재패니즈 밥테일.jpg",
      "자바니즈": "cat-image/자바니즈.jpg",
      "카나니": "cat-image/카나니.jpg",
      "카렐리안 밥테일": "cat-image/카렐리안 밥테일.jpg",
      "캬슈미르": "cat-image/카슈미르.jpg",
      "카오 마니": "cat-image/카오 마니.jpg",
      "킨카로우": "cat-image/킨카로우.jpg",
      "쿠릴리안 밥테일": "cat-image/쿠릴리안 밥테일.jpg",
      "램킨": "cat-image/램킨.jpg",
      "라펌": "cat-image/라펌.jpg",
      "라이코이": "cat-image/라이코이.jpg",
      "메인쿤": "cat-image/메인쿤.jpg",
      "만달레이": "cat-image/만달레이.jpg",
      "맹크스": "cat-image/맹크스.jpg",
      "메콩 밥테일": "cat-image/메콩 밥테일.jpg",
      "민스킨": "cat-image/민스킨.jpg",
      "먼치킨": "cat-image/먼치킨.jpg",
      "네벨룽": "cat-image/네벨룽.jpg",
      "네바마스커레이드": "cat-image/네바마스커레이드.jpg",
      "노르웨이 숲": "cat-image/노르웨이숲.jpg",
      "오시캣": "cat-image/오시캣.jpg",
      "오호스 아즐레스": "cat-image/오호스 아즐레스.jpg",
      "오리건 렉스": "cat-image/오리건 렉스.jpg",
      "오리엔탈 바이컬러": "cat-image/오리엔탈 바이컬러.jpg",
      "오리엔탈 롱헤어": "cat-image/오리엔탈 롱헤어.jpg",
      "오리엔탈 쇼트헤어": "cat-image/오리엔탈 쇼트헤어.jpg",
      "오위히 밥": "cat-image/오위히 밥.jpg",
      "페르시안": "cat-image/페르시안.jpg",
      "팬서렛": "cat-image/팬서렛.jpg",
      "피터볼드": "cat-image/피터볼드.jpg",
      "픽시 밥": "cat-image/픽시 밥.jpg",
      "라가머핀": "cat-image/라가머핀.jpg",
      "랙돌": "cat-image/랙돌.jpg",
      "라아스": "cat-image/라아스.jpg",
      "러시안블루": "cat-image/러시안 블루.jpg",
      "샘 사웨트": "cat-image/샘 사웨트.jpg",
      "사바나": "cat-image/사바나.jpg",
      "스코티시 폴드": "cat-image/스코티시 폴드.jpg",
      "셀커크 렉스": "cat-image/셀커크 렉스.jpg",
      "세렝게티": "cat-image/세렝게티.jpg",
      "샴": "cat-image/샴.jpg",
      "시베리안 숲": "cat-image/시베리안 숲.jpg",
      "싱가푸라": "cat-image/싱가푸라.jpg",
      "스쿠쿰": "cat-image/스쿠쿰.jpg",
      "스노우슈": "cat-image/스노우슈.jpg",
      "소코케": "cat-image/소코케.jpg",
      "소말리": "cat-image/소말리.jpg",
      "스핑크스": "cat-image/스핑크스.jpg",
      "수팔락": "cat-image/수팔락.jpg",
      "테네시 렉스": "cat-image/테네시 렉스.jpg",
      "타이": "cat-image/타이.jpg",
      "통키니즈": "cat-image/통키니즈.jpg",
      "토이밥": "cat-image/토이밥.jpg",
      "토이거": "cat-image/토이거.jpg",
      "터키시 앙고라": "cat-image/터키시 앙고라.jpg",
      "터키시 반": "cat-image/터키시 반.jpg",
      "반": "cat-image/반.jpg",
      "요크 초콜릿": "cat-image/요크 초콜릿.jpg",
    };
    const cat_name = [
      "아비니시안",
      "에게안",
      "아메리칸 밥테일",
      "아메리칸 컬",
      "아메리칸 링테일",
      "아나톨리",
      "키프로스",
      "키프로스 아프로디테",
      "아라비안 마우",
      "아시안",
      "티파니",
      "발리니즈",
      "밤비노",
      "벵갈",
      "버먼",
      "봄베이",
      "브라질리안 쇼트헤어",
      "브리티시 롱헤어",
      "브리티시 쇼트헤어",
      "버미즈",
      "버밀라",
      "캘리포니아 스팽글드",
      "세일론",
      "샹틸리 티파니",
      "샤르트뢰",
      "쵸시",
      "치토",
      "컬러포인트 쇼트헤어",
      "데본 렉스",
      "돈스코이",
      "드웰프",
      "이집션 마우",
      "유러피안 쇼트헤어",
      "이그저틱 롱헤어",
      "폴덱스",
      "포린 화이트",
      "제네타",
      "저먼 렉스",
      "하바나 브라운",
      "하일랜더",
      "히말라얀",
      "재그",
      "재패니즈 밥테일",
      "자바니즈",
      "카나니",
      "카렐리안 밥테일",
      "캬슈미르",
      "카오 마니",
      "킨카로우",
      "쿠릴리안 밥테일",
      "램킨",
      "라펌",
      "라이코이",
      "메인쿤",
      "만달레이",
      "맹크스",
      "메콩 밥테일",
      "민스킨",
      "먼치킨",
      "네벨룽",
      "네바마스커레이드",
      "노르웨이 숲",
      "오시캣",
      "오호스 아즐레스",
      "오리건 렉스",
      "오리엔탈 바이컬러",
      "오리엔탈 롱헤어",
      "오리엔탈 쇼트헤어",
      "오위히 밥",
      "페르시안",
      "팬서렛",
      "피터볼드",
      "픽시 밥",
      "라가머핀",
      "랙돌",
      "라아스",
      "러시안블루",
      "샘 사웨트",
      "사바나",
      "스코티시 폴드",
      "셀커크 렉스",
      "세렝게티",
      "샴",
      "시베리안 숲",
      "싱가푸라",
      "스쿠쿰",
      "스노우슈",
      "소코케",
      "소말리",
      "스핑크스",
      "수팔락",
      "테네시 렉스",
      "타이",
      "통키니즈",
      "토이밥",
      "토이거",
      "터키시 앙고라",
      "터키시 반",
      "반",
      "요크 초콜릿"
    ]
    const number = 100;
    let count = 0;

    // 참고용 이름을 보여주는 클릭 이벤트
    textName.addEventListener("click", () => {
      if (count < number) {
        const randomIndex = Math.floor(Math.random() * cat_name.length);
        const randomItem = cat_name[randomIndex];
        alert(randomItem);
        count++;
      }
    });

    // 입력한 텍스트에 Enter 키로 이벤트 발생
    searchBar.addEventListener("keypress", (e) => {
      if (e.key === "Enter") {
        sendValue()
        showImage();
      }
    });
    // 입력한 value와 일치하는 value를 가진 이미지를 출력하는 함수
    function showImage() {
      const inputValue = searchBar.value;
      const selectedImage = images[inputValue];

      if (selectedImage) {
        const imageContainer = document.getElementById("result");
        const imagePath = selectedImage; // 이미지 파일은 같은 폴더에 있으므로 경로를 따로 지정하지 않아도 됨
        imageContainer.innerHTML = `<img src="${imagePath}" alt="${inputValue} 이미지">`;
      } else {
        alert("일치하는 이미지를 찾을 수 없습니다.");
      }
    }

    // 입력한 value를 json 파일에 보내는 함수
    function sendValue() {
      const inputValue = searchBar.value;

      fetch('/addValue', {
        method: 'POST',
        headers: {
          'Content-Type': 'application/json',
        },
        body: JSON.stringify({ value: inputValue }),
      })
        .then(response => {
          if (!response.ok) {
            throw new Error('Network response was not ok');
          }
          return response.text();
        })
        .then(data => {
          console.log(data); // Success message from server
        })
        .catch(error => {
          console.error('There was an error:', error);
        });
    }
  </script>
</body>

</html>